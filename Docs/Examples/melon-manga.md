# melon-manga
**melon-manga** – это универсальный расширяемый rolling-формат описательных файлов манги, использующийся в Melon.

# Основные принципы
* _**Единая типизация**_ – все тайтлы приводятся к общему списку типов.

### Типы произведений
| **Тип**            | **Определение**                                                                          |
|--------------------|------------------------------------------------------------------------------------------|
| _manga_            | Японская манга.                                                                          |
| _manhwa_           | Корейская манхва.                                                                        |
| _manhua_           | Китайская маньхуа.                                                                       |
| _oel_              | Оригинальная англоязычная манга (нарисованная не японскими авторами под влиянием манги). |
| _western_comic_    | Западные комиксы.                                                                        |
| _russian_comic_    | Комиксы русскоязычных стран.                                                             |
| _indonesian_comic_ | Индонезийские комиксы.                                                                   |

* _**Интернациональность**_ – язык контента указывается по стаднарту ISO 639-3, а локализованное название обязано соответствовать ему.
* _**Максимальная однозначность**_ – каждое поле имеет или заранее определённый тип с валидным значением, либо же является `null` или пустой структурой при отсутствии данных.
* _**Независимость**_ – формат полностью абстрагирован от источников и не является специфичным для какого-либо из них.
* _**Порядковый индекс**_ – индекс слайда соответствует его порядковому номеру в главе, то есть нумеруется с единицы для удобства считывания данных человеком.
* _**Расширяемость**_ – парсеры могут предоставлять дополнительные данные, не описанные в данном манифесте.
* _**Синтетические идентификаторы**_ – если тайтл, ветвь или глава не имеет целочисленного идентификатора, таковой будет сгенерирован с условием повторяемости результата и уникальности в разрезе источника.
* _**Уважение труда**_ – идентификаторы переводчиков, редакторов и прочих лиц, работавших над адаптацией главы, всегда указывается в соответствующих полях, если такая информация доступна в источнике.
* _**Чёткие статусы**_ – используются только основные и наиболее информативные статусы.

### Статусы произведения
| **Статус**  | **Значение**                                                                                                                                                                                                                                |
|-------------|---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| _announced_ | Произведение или перевод только анонсированы, контент ещё недоступен.                                                                                                                                                                       |
| _ongoing_   | Означает регулярное поступление контента произведения на языке ресурса. Сочетает в себе как выход глав в оригинале, так и перевод. Например, если главы в оригинале перестали выходить, но перевод продолжается, то этот статус справедлив. |
| _completed_ | Произведение полностью завершено в оригинале и, если требовалось, выполнен его перевод.                                                                                                                                                     |
| _dropped_   | Произведение заброшено автором или не переводится активно.                                                                                                                                                                                  |

* _**Rolling**_ – формат не версионируется и может изменяться без предупреждений и без поддержки обратной совместимости.

# Пример
```json
{
	"format": "melon-manga",
	"site": "example.com",
	"id": 123,
	"slug": "manga_slug",
	"content_language": "rus",
	"localized_name": "Название манги",
	"en_name": "Manga name",
	"another_names": [
		"Manga mei"
	],
	"covers": [
		{
			"link": "https://example.com/manga_slug/cover.jpg",
			"filename": "cover.jpg"
		}
	],
	"authors": [
		"Имя автора"
	],
	"publication_year": 2024,
	"description": "Первый абзац описания.\nВторой абзац описания.",
	"age_limit": 16,
	"type": "manga",
	"status": "ongoing",
	"is_licensed": false,
	"genres": [
		"название жанра"
	],
	"tags": [
		"название тега"
	],
	"franchises": [
		"название франшизы"
	],
	"persons": [
		{
			"name": "Имя персонажа",
			"another_names": ["Альтернативные имена персонажа"],
			"images": [
				{
					"link": "https://example.com/person_slug/image.jpg",
					"filename": "image.jpg"
				}
			],
			"description": "Описание персонажа"
		}
	],
	"branches": [
		{
			"id": 123456,
			"chapters_count": 1
		}
	],
	"content": {
		"123456": [
			{
				"id": 1,
				"slug": "vol1-ch1",
				"volume": "1",
				"number": "1",
				"name": "Название главы",
				"is_paid": false,
				"workers": [
					"Ник переводчика",
					"Ник редактора"
				],
				"slides": [
					{
						"index": 1,
						"link": "https://example.com/manga_slug/vol1_ch1/1.jpg"
					}
				]
			}
		]
	}
}
```
